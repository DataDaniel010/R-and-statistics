"0",""
"0","sample_size <- 750 # Количество пациентов, прошедших, терапию"
"0",""
"0","Hg_improve <- 15 # Истинное среднее изменение уровня Hg (в ГЕНЕРАЛЬНОЙ СОВОКУПНОСТИ)"
"0",""
"0","Hg_sd <- 10 # Разброс в улучшении Hg"
"0",""
"0","df_trial <- data.frame("
"0","  ID = 1:sample_size,"
"0","  Hg_change = rnorm(sample_size, mean = Hg_improve, sd = Hg_sd)"
"0",")"
"0",""
"0","t.test(Hg_change ~ 1, conf.level = 0.095, data = df_trial) #получили среднее и ДИ (только на них смотрим)"
"1","
"
"1","	One Sample t-test"
"1","
"
"1","
"
"1","data:  "
"1",""
"1","Hg_change"
"1",""
"1","
"
"1","t = 41.567, df = 749, p-value < 2.2e-16"
"1","
"
"1","alternative hypothesis: "
"1","true "
"1",""
"1","mean"
"1",""
"1"," is "
"1",""
"1","not equal to"
"1",""
"1"," "
"1",""
"1","0"
"1",""
"1","
"
"1","9.5"
"1",""
"1"," percent confidence interval:
"
"1",""
"1"," "
"1",""
"1","15.06940 15.15621"
"1",""
"1","
"
"1","sample estimates:
"
"1","mean of x "
"1","
"
"1","  15.1128 "
"1","
"
"1","
"
"0","#запускаем т тест используя пайп, только тут мы в data указываем ., что означает возьми из указанного в пайпе датасета"
"0","trial_results <- df_trial %>% "
"0","  t.test(Hg_change ~ 1, conf.level = 0.95, data = .) %>% "
"0","  broom::tidy() %>% "
"0","  mutate(CI_width = conf.high - conf.low) #создали столбик с шириной ДИ"
"0","  "
"0","trial_results"
